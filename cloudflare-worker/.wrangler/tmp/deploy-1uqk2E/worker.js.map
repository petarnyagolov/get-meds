{
  "version": 3,
  "sources": ["../../../worker.js"],
  "sourceRoot": "C:\\projects\\get-meds\\cloudflare-worker\\.wrangler\\tmp\\deploy-1uqk2E",
  "sourcesContent": ["/**\r\n * Cloudflare Worker for CORS Proxy - GetMeds\r\n * Handles CORS issues when fetching data from pharmacy APIs\r\n * Supports: SOpharmacy, VMClub, and other Bulgarian pharmacies\r\n */\r\n\r\nexport default {\r\n  async fetch(request) {\r\n    // CORS headers\r\n    const corsHeaders = {\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n      \"Access-Control-Allow-Methods\": \"GET, POST, OPTIONS\",\r\n      \"Access-Control-Allow-Headers\": \"Content-Type, X-CSRF-TOKEN, Authorization\",\r\n      \"Access-Control-Max-Age\": \"86400\",\r\n    };\r\n\r\n    // Handle preflight OPTIONS requests\r\n    if (request.method === \"OPTIONS\") {\r\n      return new Response(null, { headers: corsHeaders });\r\n    }\r\n\r\n    try {\r\n      const url = new URL(request.url);\r\n      const targetUrl = url.searchParams.get('url');\r\n      const pharmacy = url.searchParams.get('pharmacy'); // 'sopharmacy' or 'vmclub'\r\n      const query = url.searchParams.get('q'); // search query\r\n\r\n      // Route to specific pharmacy handler\r\n      if (pharmacy === 'vmclub') {\r\n        return await handleVMClub(query, corsHeaders);\r\n      } else if (pharmacy === 'sopharmacy') {\r\n        return await handleSOpharmacy(targetUrl, corsHeaders);\r\n      } else if (targetUrl) {\r\n        // Generic proxy for any allowed domain\r\n        return await handleGenericProxy(targetUrl, corsHeaders);\r\n      } else {\r\n        return new Response(JSON.stringify({ \r\n          error: 'Missing parameters',\r\n          usage: '?pharmacy=vmclub&q=query OR ?pharmacy=sopharmacy&url=... OR ?url=...'\r\n        }), {\r\n          status: 400,\r\n          headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n        });\r\n      }\r\n\r\n    } catch (err) {\r\n      return new Response(JSON.stringify({ \r\n        error: 'Worker error',\r\n        message: err.message \r\n      }), {\r\n        status: 500,\r\n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Handle VMClub requests (requires CSRF token and session)\r\n */\r\nasync function handleVMClub(query, corsHeaders) {\r\n  try {\r\n    if (!query) {\r\n      return new Response(JSON.stringify({ error: 'Missing query parameter' }), {\r\n        status: 400,\r\n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n      });\r\n    }\r\n\r\n    // STEP 1: Get fresh session from homepage\r\n    const homePage = await fetch(\"https://sofia.vmclub.bg/\", {\r\n  headers: {\r\n    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\r\n    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8',\r\n    'Accept-Language': 'bg-BG,bg;q=0.9,en;q=0.8',\r\n    'Accept-Encoding': 'gzip, deflate, br',\r\n    'Connection': 'keep-alive',\r\n    'Upgrade-Insecure-Requests': '1',\r\n    'Sec-Fetch-Dest': 'document',\r\n    'Sec-Fetch-Mode': 'navigate',\r\n    'Sec-Fetch-Site': 'none'\r\n  }\r\n});\r\n\r\n    const html = await homePage.text();\r\nconst setCookieHeaders = homePage.headers.get(\"set-cookie\");\r\nlet allCookies = [];\r\nif (setCookieHeaders) {\r\n  const cookieParts = setCookieHeaders.split(',').map(c => c.trim());\r\n  allCookies = cookieParts.map(cookie => cookie.split(';')[0]).filter(c => c);\r\n}\r\nconst cookieString = allCookies.join('; ');\r\n    // Extract CSRF token from HTML\r\n    const csrfToken = html.match(/name=\"csrf-token\" content=\"([^\"]+)\"/)?.[1];\r\n\r\n    if (!csrfToken) {\r\n      throw new Error('Failed to extract CSRF token');\r\n    }\r\n\r\n    // STEP 2: Make search request with CSRF token\r\n    const searchResponse = await fetch(\"https://sofia.vmclub.bg/products/fast-search\", {\r\n  method: \"POST\",\r\n  headers: {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n    \"X-CSRF-TOKEN\": csrfToken,\r\n    \"X-Requested-With\": \"XMLHttpRequest\",\r\n    \"Cookie\": cookieString,  // \u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u043D\u043E\u0432\u0438\u044F cookieString\r\n    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\r\n    \"Accept\": \"application/json, text/javascript, */*; q=0.01\",\r\n    \"Accept-Language\": \"bg-BG,bg;q=0.9,en;q=0.8\",\r\n    \"Origin\": \"https://sofia.vmclub.bg\",\r\n    \"Referer\": \"https://sofia.vmclub.bg/\",\r\n    \"Sec-Fetch-Dest\": \"empty\",\r\n    \"Sec-Fetch-Mode\": \"cors\",\r\n    \"Sec-Fetch-Site\": \"same-origin\"\r\n  },\r\n  body: `q=${encodeURIComponent(query)}&field=fast-search`\r\n});\r\n\r\n    const data = await searchResponse.json();\r\n\r\nconst enrichedProducts = [];\r\n    \r\n    if (data.html) {\r\n      // Parse HTML to extract product URLs\r\n      const productUrlRegex = /href=\"\\/pharmacy\\/([\\w-]+)\"/g;\r\n      const matches = [...data.html.matchAll(productUrlRegex)];\r\n      \r\n      // Process up to 10 products (to avoid timeout)\r\n      const maxProducts = Math.min(matches.length, 10);\r\n      \r\n      for (let i = 0; i < maxProducts; i++) {\r\n        const productSlug = matches[i][1];\r\n        const productUrl = `https://sofia.vmclub.bg/pharmacy/${productSlug}`;\r\n        \r\n        try {\r\n          // Fetch product page\r\n          const productPage = await fetch(productUrl, {\r\n            headers: {\r\n              'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n              'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\r\n              'Cookie': cookieString\r\n            }\r\n          });\r\n          \r\n          const productHtml = await productPage.text();\r\n          \r\n          // Extract JSON-LD data\r\n          const jsonLdMatch = productHtml.match(/<script type=\"application\\/ld\\+json\">([\\s\\S]*?)<\\/script>/);\r\n          \r\n          if (jsonLdMatch) {\r\n            const jsonLd = JSON.parse(jsonLdMatch[1]);\r\n            const productID = jsonLd.productID;\r\n            \r\n            // Fetch store availability\r\n            const availabilityUrl = `https://sofia.vmclub.bg/store-locations?check=${productID}`;\r\n            const availabilityResponse = await fetch(availabilityUrl, {\r\n              headers: {\r\n                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\r\n                'Cookie': cookieString\r\n              }\r\n            });\r\n            \r\n            const availabilityHtml = await availabilityResponse.text();\r\n            \r\n            // Parse availability HTML to extract locations\r\n            const locationRegex = /data-text='({[^']+})'/g;\r\n            const locations = [];\r\n            let locationMatch;\r\n            \r\n            while ((locationMatch = locationRegex.exec(availabilityHtml)) !== null) {\r\n              try {\r\n                const locationData = JSON.parse(locationMatch[1].replace(/\\\\/g, ''));\r\n                locations.push({\r\n                  id: locationData.id,\r\n                  name: locationData.name,\r\n                  address: locationData.address,\r\n                  city: locationData.city,\r\n                  email: locationData.email,\r\n                  phone: locationData.phone,\r\n                  lat: locationData.lat,\r\n                  lon: locationData.lon,\r\n                  status: locationData.status // 0=available, 1=unavailable\r\n                });\r\n              } catch (e) {\r\n                // Skip invalid JSON\r\n              }\r\n            }\r\n            \r\n            // Add enriched product\r\n            enrichedProducts.push({\r\n              productID: productID,\r\n              name: jsonLd.name,\r\n              description: jsonLd.description,\r\n              image: jsonLd.image?.[0] || null,\r\n              sku: jsonLd.sku,\r\n              brand: jsonLd.brand?.name || '',\r\n              price: jsonLd.offers?.price || null,\r\n              priceCurrency: jsonLd.offers?.priceCurrency || 'EUR',\r\n              availability: jsonLd.offers?.availability || '',\r\n              productUrl: productUrl,\r\n              slug: productSlug,\r\n              locations: locations\r\n            });\r\n          }\r\n          \r\n        } catch (err) {\r\n          console.error(`Failed to fetch product ${productSlug}:`, err.message);\r\n          // Continue with other products\r\n        }\r\n      }\r\n    }\r\n\r\n    // Return enriched data\r\n    return new Response(JSON.stringify({\r\n      success: true,\r\n      query: query,\r\n      totalProducts: enrichedProducts.length,\r\n      products: enrichedProducts\r\n    }), {\r\n      headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n    });\r\n\r\n  } catch (err) {\r\n    return new Response(JSON.stringify({ \r\n      error: 'VMClub fetch failed',\r\n      message: err.message \r\n    }), {\r\n      status: 500,\r\n      headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Handle SOpharmacy requests\r\n */\r\nasync function handleSOpharmacy(targetUrl, corsHeaders) {\r\n  try {\r\n    if (!targetUrl) {\r\n      return new Response(JSON.stringify({ error: 'Missing url parameter' }), {\r\n        status: 400,\r\n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n      });\r\n    }\r\n\r\n    // Validate it's a SOpharmacy URL\r\n    const urlObj = new URL(targetUrl);\r\n    if (!urlObj.hostname.includes('sopharmacy.bg')) {\r\n      return new Response(JSON.stringify({ error: 'Invalid SOpharmacy URL' }), {\r\n        status: 403,\r\n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n      });\r\n    }\r\n\r\n    // Fetch from SOpharmacy with proper headers\r\n    const response = await fetch(targetUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\r\n        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\r\n        'Accept-Language': 'bg,en;q=0.9',\r\n        'Referer': 'https://sopharmacy.bg/',\r\n        'DNT': '1',\r\n        'Connection': 'keep-alive',\r\n        'Upgrade-Insecure-Requests': '1'\r\n      }\r\n    });\r\n\r\n    // Get response body\r\n    const body = await response.text();\r\n    const contentType = response.headers.get('content-type') || 'text/html';\r\n\r\n    // Return with CORS headers\r\n    return new Response(body, {\r\n      status: response.status,\r\n      headers: {\r\n        ...corsHeaders,\r\n        'Content-Type': contentType\r\n      }\r\n    });\r\n\r\n  } catch (err) {\r\n    return new Response(JSON.stringify({ \r\n      error: 'SOpharmacy fetch failed',\r\n      message: err.message \r\n    }), {\r\n      status: 500,\r\n      headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Generic proxy for other allowed domains\r\n */\r\nasync function handleGenericProxy(targetUrl, corsHeaders) {\r\n  try {\r\n    // Validate URL\r\n    const urlObj = new URL(targetUrl);\r\n    \r\n    // Whitelist allowed domains\r\n    const allowedDomains = [\r\n      'sopharmacy.bg',\r\n      'vmclub.bg',\r\n      'remedium.bg',\r\n      'subra.bg',\r\n      'apteka.bg'\r\n    ];\r\n\r\n    const isAllowed = allowedDomains.some(domain => \r\n      urlObj.hostname === domain || urlObj.hostname.endsWith('.' + domain)\r\n    );\r\n\r\n    if (!isAllowed) {\r\n      return new Response(JSON.stringify({ error: 'Domain not allowed' }), {\r\n        status: 403,\r\n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n      });\r\n    }\r\n\r\n    // Fetch with proper headers\r\n    const response = await fetch(targetUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\r\n        'Accept': '*/*',\r\n        'Accept-Language': 'bg,en;q=0.9'\r\n      }\r\n    });\r\n\r\n    const body = await response.text();\r\n    const contentType = response.headers.get('content-type') || 'text/plain';\r\n\r\n    return new Response(body, {\r\n      status: response.status,\r\n      headers: {\r\n        ...corsHeaders,\r\n        'Content-Type': contentType\r\n      }\r\n    });\r\n\r\n  } catch (err) {\r\n    return new Response(JSON.stringify({ \r\n      error: 'Generic proxy failed',\r\n      message: err.message \r\n    }), {\r\n      status: 500,\r\n      headers: { ...corsHeaders, \"Content-Type\": \"application/json\" }\r\n    });\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
